#!/usr/bin/env bash

# Node version manager
eval "$(fnm env --use-on-cd)"

# Direnv
eval "$(direnv hook zsh)"

# Keg-only Postgres formula
export PATH="/opt/homebrew/opt/postgresql@13/bin:$PATH"

# Kubernetes aliases
alias k="kubectl"
alias kc="kubectx"
alias kn="kubens"

# Private modules
export GOPRIVATE=github.com/snyk

# Python
export PATH="/opt/homebrew/opt/python@3.10/libexec/bin:$PATH"

# GHCUP
export PATH="$HOME/.ghcup/bin:$PATH"
export PATH="$HOME/.cabal/bin:$PATH"

# Load credentials, if provided.
if [ -f "$HOME/credentials.sh" ] ; then
    # shellcheck disable=SC1091
    . "$HOME/credentials.sh"
fi

# Teleport
export KUBECONFIG="${HOME}/.kube/config:${HOME}/teleport-kubeconfig.yaml"

# Development build of Snyk CLI
alias snyk-dev="node \${HOME}/src/snyk/cli/dist/cli"
alias snyk-dev-debug="node --inspect-brk \${HOME}/src/snyk/cli/dist/cli"

# Alias for tctl
alias temporal="/opt/homebrew/Cellar/tctl/*/bin/tctl"
